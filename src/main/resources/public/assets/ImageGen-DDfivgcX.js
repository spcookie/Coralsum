import{w as Ce}from"./@vue/runtime-dom-hKZGlRKN.js";import{I as M}from"./iconify-Dow0D7fd.js";import{u as me,a as Pe,I as Ie,_ as fe,s as Ue,g as Se,b as xe,r as be,c as Le,d as ze,e as Ge}from"./main-kPxSAhoX.js";import{u as ve,r as Ne,b as A,c as ye,i as we,B as V,s as re,a as he,j as de,t as Te,v as Ee,w as O,q as ke,m as $e,x as Re}from"./naive-ui-DI5taouS.js";import{f as ge,t as J,P,N as t,d as a,L as o,M as $,O as K,F as oe,Q as ne,K as _e,p as k,w as ie,E as Me,j as je,S as Be}from"./@vue/runtime-core-HkD_qmHb.js";import{u as U,D as s}from"./@vue/reactivity-u6ABGPMg.js";import{J as ee,q as ue,p as Ae}from"./@vue/shared-B44ZMsZr.js";import"./vue-l5MwoWad.js";import"./axios-B9ygI19o.js";import"./index-Sc79Mvov.js";/* empty css                               *//* empty css                                   */import"./@iconify-icons/mdi-DHJ9wI3J.js";import"./@iconify-icons/material-symbols-ysi_2Ggx.js";import"./@iconify-icons/ph-Cp5BnHKQ.js";import"./@iconify-icons/solar-D92Mec1c.js";import"./date-fns-Ddv6U-Yp.js";import"./vooks-CHP5O5D0.js";import"./evtd-CI_DDEu_.js";import"./seemly-D48R1BPg.js";import"./lodash-es-Bym2J9Gs.js";import"./@emotion/hash-WldOFDRm.js";import"./vueuc-CfobdMGE.js";import"./@css-render/vue3-ssr-Dz-R1Ori.js";import"./vdirs-DRH9Xvnd.js";import"./@juggle/resize-observer-C8OzoCMD.js";import"./css-render-CKtry55Z.js";import"./treemate-HRdUPn5m.js";import"./date-fns-tz-7ws4grit.js";import"./async-validator-9PlIezaS.js";import"./@css-render/plugin-bem-Be8eOoM-.js";const Fe={class:"relative z-20 w-full md:w-[420px] md:flex-shrink-0 md:h-[calc(100vh-56px)] h-auto md:overflow-y-auto p-4 md:p-5 md:border-r border-b md:border-b-0 border-neutral-200 dark:border-neutral-800 space-y-5 glass bg-white/40 dark:bg-black/30"},Oe={class:"space-y-2"},De={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1 justify-between"},Ve={class:"flex items-center gap-1"},He={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},Je={class:"flex flex-col items-center justify-center py-10 border border-dashed rounded-xl border-neutral-300 dark:border-neutral-700 text-neutral-500 bg-neutral-50/60 dark:bg-neutral-900/30"},qe={key:0,class:"mt-3 columns-2 md:columns-3 gap-2"},Ke=["src","onClick"],Qe={class:"absolute top-0 right-0 w-8 h-8 pointer-events-none z-10"},We={class:"badge-num"},Xe={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},Ze={class:"grid grid-cols-2 gap-3"},Ye={class:"flex items-center gap-2"},et={class:"flex items-center gap-2"},tt={class:"space-y-2"},st={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},at={class:"segmented radio-center"},lt={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},ot={class:"space-y-6"},nt={class:"space-y-2"},rt={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},it={class:"grid grid-cols-3 sm:grid-cols-4 gap-2"},dt={class:"space-y-2"},ut={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center justify-between"},ct={class:"flex items-center gap-1"},pt={class:"text-[11px] text-neutral-500 dark:text-neutral-300"},mt={class:"space-y-2"},ft={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},vt={class:"segmented radio-center"},gt={class:"space-y-2"},xt={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center justify-between"},bt={class:"flex items-center gap-1"},yt={class:"text-[11px] text-neutral-500 dark:text-neutral-300"},wt={class:"space-y-2"},ht={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},kt={class:"segmented radio-center"},$t={class:"space-y-2"},Rt={class:"text-xs uppercase tracking-wide text-neutral-500 flex items-center gap-1"},Ct={class:"segmented radio-center"},ce=10,pe=50*1024*1024,Pt=ge({__name:"LeftConfigPanel",props:{generating:{type:Boolean}},emits:["generate"],setup(F,{emit:I}){const R=I,G=F,m=J(()=>G.generating),N=ve(),C=Ne(),d=me(),D=Pe(),Q=U(""),le=J(()=>Q.value.trim().length===0),W=U(""),_=U([]),T=U([]),L=U(!1),te=U(!1),se=U(null),X=U(!1),ae=U(""),c=new Set(["image/png","image/jpeg"]);function f(r){var y,w,E,z;if(m.value)return;const e=(r==null?void 0:r.fileList)??[],n=[];let v=0;for(const u of e){!u.url&&u.file&&(u.url=URL.createObjectURL(u.file));const B=((w=(y=u==null?void 0:u.file)==null?void 0:y.file)==null?void 0:w.type)||((E=u==null?void 0:u.file)==null?void 0:E.type)||(u==null?void 0:u.type);if(c.has(B)){n.push(u);const S=((z=u==null?void 0:u.file)==null?void 0:z.file)||(u==null?void 0:u.file);S&&typeof S.size=="number"&&(v+=S.size)}}if(n.length>ce){C.error({title:"ä¸Šä¼ æ ¡éªŒå¤±è´¥",content:"æœ€å¤šä¸Šä¼ 10å¼ å›¾ç‰‡"});return}if(v>pe){C.error({title:"ä¸Šä¼ æ ¡éªŒå¤±è´¥",content:"å›¾ç‰‡æ€»å¤§å°ä¸èƒ½è¶…è¿‡50MB"});return}n.length<e.length&&N.error("ä»…æ”¯æŒ PNG/JPG æ ¼å¼"),T.value=n,_.value=n.map(u=>{var B;return((B=u==null?void 0:u.file)==null?void 0:B.file)||(u==null?void 0:u.file)}).filter(Boolean)}function g(){L.value=!0}function x(){const r=Date.now();if(m.value||r-b.value<400)return;if(b.value=r,le.value){N.error("è¯·å¡«å†™æç¤ºè¯");return}if(!D.profileReady){N.error("è¯·å…ˆç™»å½•"),D.requireLogin();return}if(Number(D.points||0)<=0){N.error("ç§¯åˆ†ä¸è¶³");return}R("generate",{prompt:Q.value,systemPrompt:W.value,files:_.value})}const b=U(0);function h(){d.reset(),T.value.forEach(r=>{var e;(e=r==null?void 0:r.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(r.url)}),T.value=[],_.value=[],se.value=null,X.value=!1,ae.value=""}function j(){te.value=!0}function H(r){var v;if(m.value)return;const e=((v=r.clipboardData)==null?void 0:v.items)||[],n=[];for(let y=0;y<e.length;y++){const w=e[y];if(w.kind==="file"){const E=w.getAsFile();E&&c.has(E.type)&&n.push(E)}}if(n.length){if(T.value.length+n.length>ce){C.error({title:"ä¸Šä¼ æ ¡éªŒå¤±è´¥",content:"æœ€å¤šä¸Šä¼ 10å¼ å›¾ç‰‡"});return}const w=_.value.reduce((z,u)=>z+((u==null?void 0:u.size)||0),0),E=n.reduce((z,u)=>z+((u==null?void 0:u.size)||0),0);if(w+E>pe){C.error({title:"ä¸Šä¼ æ ¡éªŒå¤±è´¥",content:"å›¾ç‰‡æ€»å¤§å°ä¸èƒ½è¶…è¿‡50MB"});return}for(const z of n)T.value.push({name:z.name,status:"finished",url:URL.createObjectURL(z)}),_.value.push(z)}else N.error("ä»…æ”¯æŒ PNG/JPG æ ¼å¼")}function Z(r,e){se.value=e,ae.value=r,X.value=!0}function Y(r){var w;const e=((w=r==null?void 0:r.file)==null?void 0:w.file)||(r==null?void 0:r.file),n=e==null?void 0:e.type;return c.has(n)?T.value.length>=ce?(C.error({title:"ä¸Šä¼ æ ¡éªŒå¤±è´¥",content:"æœ€å¤šä¸Šä¼ 10å¼ å›¾ç‰‡"}),!1):_.value.reduce((E,z)=>E+((z==null?void 0:z.size)||0),0)+((e==null?void 0:e.size)||0)>pe?(C.error({title:"ä¸Šä¼ æ ¡éªŒå¤±è´¥",content:"å›¾ç‰‡æ€»å¤§å°ä¸èƒ½è¶…è¿‡50MB"}),!1):!0:(N.error("ä»…æ”¯æŒ PNG/JPG æ ¼å¼"),!1)}const i=J(()=>({common:d.darkMode?{primaryColor:"#2a947d",primaryColorSuppl:"#2a947d"}:{primaryColor:"#18a058",primaryColorSuppl:"#36ad6a"},Slider:{railColor:d.darkMode?"rgba(255,255,255,0.2)":"#e5e7eb",railColorHover:d.darkMode?"rgba(255,255,255,0.3)":"#d1d5db",railColorActive:d.darkMode?"rgba(255,255,255,0.25)":"#dbeafe",fillColor:d.darkMode?"#2a947d":"#18a058",fillColorHover:d.darkMode?"#2a947d":"#36ad6a",handleColor:d.darkMode?"#2a947d":"#18a058",handleBorderColor:d.darkMode?"#2a947d":"#18a058",dotColor:d.darkMode?"#2a947d":"#36ad6a"}})),l=J(()=>d.advancedExpanded?["advanced"]:[]);function p(r){d.advancedExpanded=Array.isArray(r)&&r.includes("advanced")}return(r,e)=>($(),P("div",Fe,[t("div",Oe,[t("div",De,[t("div",Ve,[e[21]||(e[21]=t("span",null,"æç¤ºè¯",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[20]||(e[20]=t("div",{class:"text-xs text-white"}," è¾“å…¥è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³è¦ç”Ÿæˆæˆ–ä¿®æ”¹çš„å†…å®¹ã€‚å»ºè®®åŒ…å«ä¸»ä½“ã€é£æ ¼ã€æ„å›¾ä¸è‰²è°ƒï¼Œæ˜ç¡®é™åˆ¶æ¡ä»¶ä¸ç»†èŠ‚ï¼Œé¿å…æ­§ä¹‰ã€‚ ",-1))]),_:1})]),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[t("button",{"aria-label":"æ‰“å¼€æç¤ºæŒ‡å—",class:"inline-flex items-center justify-center cursor-pointer w-6 h-6 p-1 rounded-full transition-colors duration-200 hover:bg-green-100 dark:hover:bg-green-900/40",onClick:j},[a(s(M),{class:"text-green-600 transition-colors duration-200 hover:text-green-700",icon:"ph:book-open-text"})])]),default:o(()=>[e[22]||(e[22]=t("div",{class:"text-xs text-white"},"æç¤ºæŒ‡å—ä¸ç­–ç•¥",-1))]),_:1})]),a(s(ye),{value:Q.value,"onUpdate:value":e[0]||(e[0]=n=>Q.value=n),autosize:{minRows:6,maxRows:12},disabled:m.value,placeholder:"è¾“å…¥ä½ çš„åˆ›æ„æƒ³æ³•ï¼Œè®©AIä¸ºä½ ç”Ÿæˆå›¾ç‰‡",type:"textarea"},null,8,["value","disabled"])]),a(s(we),{"default-expanded-names":[]},{default:o(()=>[a(s(de),{name:"img"},{header:o(()=>[t("div",He,[e[24]||(e[24]=t("span",null,"è¾“å…¥å›¾ç‰‡",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[23]||(e[23]=t("div",{class:"text-xs text-white"},"å¯æ‹–æ‹½ã€é€‰æ‹©æˆ–ç²˜è´´ä¸€åˆ°å¤šå¼ å‚è€ƒå›¾ï¼Œè¾…åŠ©ç”Ÿæˆæˆ–è¿›è¡Œå›¾åƒç¼–è¾‘ã€‚å»ºè®®ä½¿ç”¨ PNG/JPGï¼Œä½“ç§¯é€‚ä¸­ã€‚ ",-1))]),_:1})])]),default:o(()=>[a(s(Te),{"default-file-list":T.value,disabled:m.value,"on-before-upload":Y,accept:"image/png,image/jpeg",multiple:"",onChange:f},{default:o(()=>[a(s(Ee),{onPaste:Ce(H,["prevent"])},{default:o(()=>[t("div",Je,[a(s(M),{class:"text-2xl",icon:"mdi:cloud-upload"}),e[25]||(e[25]=t("div",{class:"text-[13px] sm:text-sm"},"æ‹–æ‹½ã€ç‚¹å‡»é€‰æ‹©æˆ–ç²˜è´´å›¾ç‰‡",-1)),e[26]||(e[26]=t("div",{class:"text-[11px] sm:text-xs mt-1 text-neutral-500 dark:text-neutral-400"},"ä»…æ”¯æŒ PNG/JPG æ ¼å¼",-1))])]),_:1})]),_:1},8,["default-file-list","disabled"]),T.value.length>0?($(),P("div",qe,[($(!0),P(oe,null,ne(T.value,(n,v)=>($(),P("div",{key:v,class:"mb-2 break-inside-avoid rounded bg-neutral-100 dark:bg-neutral-800 relative overflow-hidden"},[t("img",{src:n.url,class:"w-full h-auto object-contain rounded cursor-pointer relative z-0",onClick:y=>Z(n.url,v)},null,8,Ke),t("div",Qe,[e[27]||(e[27]=t("div",{class:"badge-fan"},null,-1)),t("div",We,ee(v+1),1)])]))),128))])):K("",!0)]),_:1}),a(s(de),{name:"sys"},{header:o(()=>[t("div",Xe,[e[29]||(e[29]=t("span",null,"ç³»ç»Ÿæç¤ºè¯",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[28]||(e[28]=t("div",{class:"text-xs text-white"}," é¢å‘æ¨¡å‹çš„é«˜çº§æŒ‡ä»¤ï¼Œç”¨äºçº¦æŸæ•´ä½“é£æ ¼ã€è¡Œä¸ºä¸å®‰å…¨ç­–ç•¥ã€‚å»ºè®®ä¸æç¤ºè¯åˆ†ç¦»ï¼Œä¿æŒå®¢è§‚ã€ç®€æ´ã€‚ ",-1))]),_:1})])]),default:o(()=>[a(s(ye),{value:W.value,"onUpdate:value":e[1]||(e[1]=n=>W.value=n),autosize:{minRows:4,maxRows:10},disabled:m.value,placeholder:"è®¾ç½®ç”Ÿæˆé£æ ¼ã€å…‰å½±æˆ–ç»†èŠ‚ï¼Œè®©AIæ›´ç²¾å‡†ç†è§£ä½ çš„åˆ›æ„",type:"textarea"},null,8,["value","disabled"])]),_:1})]),_:1}),t("div",Ze,[a(s(V),{disabled:m.value,class:"w-full justify-center",tertiary:"",type:"warning",onClick:g},{default:o(()=>[t("div",Ye,[a(s(M),{icon:"mdi:reload"}),e[30]||(e[30]=t("span",null,"é‡ç½®",-1))])]),_:1},8,["disabled"]),a(s(V),{disabled:m.value||le.value,loading:m.value,class:"w-full justify-center",type:"primary",onClick:x},{default:o(()=>[t("div",et,[m.value?K("",!0):($(),_e(s(M),{key:0,icon:"ph:sparkle"})),e[31]||(e[31]=t("span",null,"ç”Ÿæˆ",-1))])]),_:1},8,["disabled","loading"])]),t("div",tt,[t("div",st,[e[33]||(e[33]=t("span",null,"å€™é€‰å›¾ç‰‡æ•°é‡",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[32]||(e[32]=t("div",{class:"text-xs text-white"},"ä¸€æ¬¡è¿”å›çš„å€™é€‰ç»“æœæ•°é‡ã€‚æ•°é‡è¶Šå¤šï¼Œè€—æ—¶ä¸æ¶ˆè€—è¶Šé«˜ï¼Œå»ºè®®æŒ‰éœ€é€‰æ‹© 1â€“4ã€‚",-1))]),_:1})]),t("div",at,[a(s(re),{value:s(d).candidateRadio,"onUpdate:value":e[2]||(e[2]=n=>s(d).candidateRadio=n),disabled:m.value},{default:o(()=>[a(s(O),{value:1},{default:o(()=>[...e[34]||(e[34]=[k("1",-1)])]),_:1}),a(s(O),{value:2},{default:o(()=>[...e[35]||(e[35]=[k("2",-1)])]),_:1}),a(s(O),{value:3},{default:o(()=>[...e[36]||(e[36]=[k("3",-1)])]),_:1}),a(s(O),{value:4},{default:o(()=>[...e[37]||(e[37]=[k("4",-1)])]),_:1})]),_:1},8,["value","disabled"])])]),a(s(we),{"expanded-names":l.value,"onUpdate:expandedNames":p},{default:o(()=>[a(s(de),{name:"advanced"},{header:o(()=>[t("div",lt,[e[39]||(e[39]=t("span",null,"é«˜çº§é…ç½®",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[38]||(e[38]=t("div",{class:"text-xs text-white"}," å±•å¼€ä»¥ç®¡ç†å®½é«˜æ¯”ã€æ¸©åº¦ã€åª’ä½“åˆ†è¾¨ç‡ã€æ€è€ƒç­‰çº§ã€å›¾ç‰‡åˆ†è¾¨ç‡ã€æ ¸é‡‡æ ·ã€è¾“å‡ºæ ¼å¼ä¸è¶…åˆ†è¾¨ç‡ã€‚ ",-1))]),_:1})])]),default:o(()=>[t("div",ot,[t("div",nt,[t("div",rt,[e[41]||(e[41]=t("span",null,"å›¾ç‰‡å®½é«˜æ¯”",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[40]||(e[40]=t("div",{class:"text-xs text-white"},"è‡ªåŠ¨ï¼šæ²¿ç”¨è¾“å…¥å›¾ç‰‡çš„åŸå§‹æ¯”ä¾‹ã€‚ä¹Ÿå¯é€‰æ‹©å›ºå®šæ¯”ä¾‹ï¼ˆ1:1ã€16:9 ç­‰ï¼‰ä»¥é€‚é…ç¤¾äº¤/æµ·æŠ¥ç­‰åœºæ™¯ã€‚ ",-1))]),_:1})]),t("div",it,[a(s(V),{disabled:m.value,type:s(d).aspectRatio==="auto"?"primary":"default",class:"w-full",size:"small",onClick:e[3]||(e[3]=n=>s(d).aspectRatio="auto")},{default:o(()=>[...e[42]||(e[42]=[k("è‡ªåŠ¨ ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="1:1"?"primary":"default",class:"w-full",size:"small",onClick:e[4]||(e[4]=n=>s(d).aspectRatio="1:1")},{default:o(()=>[...e[43]||(e[43]=[k("1:1 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="2:3"?"primary":"default",class:"w-full",size:"small",onClick:e[5]||(e[5]=n=>s(d).aspectRatio="2:3")},{default:o(()=>[...e[44]||(e[44]=[k("2:3 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="3:2"?"primary":"default",class:"w-full",size:"small",onClick:e[6]||(e[6]=n=>s(d).aspectRatio="3:2")},{default:o(()=>[...e[45]||(e[45]=[k("3:2 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="3:4"?"primary":"default",class:"w-full",size:"small",onClick:e[7]||(e[7]=n=>s(d).aspectRatio="3:4")},{default:o(()=>[...e[46]||(e[46]=[k("3:4 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="4:3"?"primary":"default",class:"w-full",size:"small",onClick:e[8]||(e[8]=n=>s(d).aspectRatio="4:3")},{default:o(()=>[...e[47]||(e[47]=[k("4:3 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="9:16"?"primary":"default",class:"w-full",size:"small",onClick:e[9]||(e[9]=n=>s(d).aspectRatio="9:16")},{default:o(()=>[...e[48]||(e[48]=[k("9:16 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="16:9"?"primary":"default",class:"w-full",size:"small",onClick:e[10]||(e[10]=n=>s(d).aspectRatio="16:9")},{default:o(()=>[...e[49]||(e[49]=[k("16:9 ",-1)])]),_:1},8,["disabled","type"]),a(s(V),{disabled:m.value,type:s(d).aspectRatio==="21:9"?"primary":"default",class:"w-full",size:"small",onClick:e[11]||(e[11]=n=>s(d).aspectRatio="21:9")},{default:o(()=>[...e[50]||(e[50]=[k("21:9 ",-1)])]),_:1},8,["disabled","type"])])]),t("div",dt,[t("div",null,[t("div",ut,[t("div",ct,[e[52]||(e[52]=t("span",null,"æ¸©åº¦",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[51]||(e[51]=t("div",{class:"text-xs text-white"},"æ¸©åº¦æ§åˆ¶éšæœºæ€§ï¼›ä½æ¸©æ›´ç¨³å®šã€å¯æ§ï¼Œé«˜æ¸©æ›´æœ‰åˆ›æ„ã€å‘æ•£ã€‚æ¨è â‰¥1.0ï¼Œä»¥è·å¾—æ›´ä¸°å¯Œçš„åˆ›æ„ä¸ç»†èŠ‚ã€‚ ",-1))]),_:1})]),t("div",pt,ee(s(d).temperature.toFixed(1)),1)]),a(s(ke),{theme:s(d).darkMode?s($e):void 0,"theme-overrides":i.value},{default:o(()=>[a(s(Re),{value:s(d).temperature,"onUpdate:value":e[12]||(e[12]=n=>s(d).temperature=n),disabled:m.value,max:2,min:0,step:.1},null,8,["value","disabled"])]),_:1},8,["theme","theme-overrides"])])]),t("div",mt,[t("div",ft,[e[54]||(e[54]=t("span",null,"å›¾ç‰‡åˆ†è¾¨ç‡",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[53]||(e[53]=t("div",{class:"text-xs text-white"},"é€‰æ‹©ç›®æ ‡è¾“å‡ºçš„åŸºç¡€åˆ†è¾¨ç‡å°ºå¯¸ï¼Œæ•°å€¼è¶Šå¤§è¶Šæ¸…æ™°ï¼Œè€—æ—¶ä¸æ¶ˆè€—è¶Šé«˜ã€‚",-1))]),_:1})]),t("div",vt,[a(s(re),{value:s(d).imageSize,"onUpdate:value":e[13]||(e[13]=n=>s(d).imageSize=n),disabled:m.value},{default:o(()=>[a(s(O),{value:"1K"},{default:o(()=>[...e[55]||(e[55]=[k("1K",-1)])]),_:1}),a(s(O),{value:"2K"},{default:o(()=>[...e[56]||(e[56]=[k("2K",-1)])]),_:1}),a(s(O),{value:"4K"},{default:o(()=>[...e[57]||(e[57]=[k("4K",-1)])]),_:1})]),_:1},8,["value","disabled"])])]),t("div",gt,[t("div",null,[t("div",xt,[t("div",bt,[e[59]||(e[59]=t("span",null,"æ ¸é‡‡æ ·",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[58]||(e[58]=t("div",{class:"text-xs text-white"}," æ ¸é‡‡æ ·é˜ˆå€¼ï¼Œæ§åˆ¶è¾“å‡ºå¤šæ ·æ€§ï¼›å€¼è¶Šå¤§è¶Šä¸°å¯Œï¼Œè¶Šå°è¶Šä¿å®ˆã€‚å¯æŒ‰éœ€å¾®è°ƒä»¥å¹³è¡¡è´¨é‡ä¸å¤šæ ·æ€§ã€‚ ",-1))]),_:1})]),t("div",yt,ee(s(d).topP.toFixed(2)),1)]),a(s(ke),{theme:s(d).darkMode?s($e):void 0,"theme-overrides":i.value},{default:o(()=>[a(s(Re),{value:s(d).topP,"onUpdate:value":e[14]||(e[14]=n=>s(d).topP=n),disabled:m.value,max:1,min:0,step:.05},null,8,["value","disabled"])]),_:1},8,["theme","theme-overrides"])])]),t("div",wt,[t("div",ht,[e[61]||(e[61]=t("span",null,"è¾“å‡ºæ ¼å¼",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[60]||(e[60]=t("div",{class:"text-xs text-white"},"é€‰æ‹©æœ€ç»ˆå›¾ç‰‡ç¼–ç æ ¼å¼ï¼šPNGï¼ˆæ— æŸã€æ”¯æŒé€æ˜ï¼‰ã€JPGï¼ˆä½“ç§¯æ›´å°ï¼‰ã€‚",-1))]),_:1})]),t("div",kt,[a(s(re),{value:s(d).outputFormat,"onUpdate:value":e[15]||(e[15]=n=>s(d).outputFormat=n),disabled:m.value},{default:o(()=>[a(s(O),{value:"PNG"},{default:o(()=>[...e[62]||(e[62]=[k("PNG",-1)])]),_:1}),a(s(O),{value:"JPG"},{default:o(()=>[...e[63]||(e[63]=[k("JPG",-1)])]),_:1})]),_:1},8,["value","disabled"])])]),t("div",$t,[t("div",Rt,[e[66]||(e[66]=t("span",null,"è¶…åˆ†è¾¨ç‡",-1)),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-neutral-400",icon:"ph:info"})]),default:o(()=>[e[64]||(e[64]=t("div",{class:"text-xs text-white"},"ä½¿ç”¨ AI å¯¹å›¾åƒè¿›è¡Œè¶…åˆ†ä¸ç»†èŠ‚é‡å»ºï¼Œä½¿ç”»é¢æ›´æ¸…æ™°é”åˆ©ï¼›å€ç‡è¶Šé«˜è€—æ—¶ä¸æ¶ˆè€—è¶Šå¤§ã€‚ ",-1))]),_:1}),a(s(A),{class:"tooltip-xs",placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(M),{class:"text-amber-500",icon:"ph:warning"})]),default:o(()=>[e[65]||(e[65]=t("div",{class:"text-xs text-white"},"é«˜å€ç‡å°†æ˜¾è‘—å¢åŠ è®¡ç®—å¼€é”€ä¸ç­‰å¾…æ—¶é•¿ï¼Œå»ºè®®æŒ‰éœ€é€‰æ‹©å¹¶ä¼˜å…ˆå°è¯•è¾ƒä½å€ç‡ã€‚",-1))]),_:1})]),t("div",Ct,[a(s(re),{value:s(d).resolution,"onUpdate:value":e[16]||(e[16]=n=>s(d).resolution=n),disabled:m.value},{default:o(()=>[a(s(O),{value:"1x"},{default:o(()=>[...e[67]||(e[67]=[k("1x",-1)])]),_:1}),a(s(O),{value:"2x"},{default:o(()=>[...e[68]||(e[68]=[k("2x",-1)])]),_:1}),a(s(O),{value:"3x"},{default:o(()=>[...e[69]||(e[69]=[k("3x",-1)])]),_:1}),a(s(O),{value:"4x"},{default:o(()=>[...e[70]||(e[70]=[k("4x",-1)])]),_:1})]),_:1},8,["value","disabled"])])])])]),_:1})]),_:1},8,["expanded-names"]),a(s(he),{show:L.value,"onUpdate:show":e[17]||(e[17]=n=>L.value=n),content:"æ˜¯å¦é‡ç½®æ‰€æœ‰é…ç½®ï¼Ÿ","negative-text":"å–æ¶ˆ","positive-text":"ç¡®è®¤",preset:"dialog",title:"ç¡®è®¤é‡ç½®",onPositiveClick:h},null,8,["show"]),a(s(he),{show:te.value,"onUpdate:show":e[18]||(e[18]=n=>te.value=n),style:{width:"min(920px, 86vw)",margin:"20px auto"},class:"rounded-xl",preset:"card",title:"æç¤ºæŒ‡å—ä¸æœ€ä½³å®è·µ"},{default:o(()=>[...e[71]||(e[71]=[t("div",{class:"max-h-[70vh] overflow-y-auto text-[13px] space-y-4"},[t("div",{class:"text-lg font-semibold"},"ç”¨äºç”Ÿæˆå›¾ç‰‡çš„æç¤º"),t("ol",{class:"list-decimal list-inside space-y-2"},[t("li",null,[t("div",{class:"font-medium"},"é€¼çœŸåœºæ™¯"),t("div",null,"å¯¹äºé€¼çœŸçš„å›¾ç‰‡ï¼Œè¯·ä½¿ç”¨æ‘„å½±æœ¯è¯­ã€‚æåŠæ‹æ‘„è§’åº¦ã€é•œå¤´ç±»å‹ã€å…‰çº¿å’Œç»†èŠ‚ï¼Œå¼•å¯¼æ¨¡å‹ç”Ÿæˆé€¼çœŸçš„æ•ˆæœã€‚")]),t("li",null,[t("div",{class:"font-medium"},"é£æ ¼åŒ–æ’ç”»å’Œè´´çº¸"),t("div",null,"å¦‚éœ€åˆ›å»ºè´´çº¸ã€å›¾æ ‡æˆ–ç´ æèµ„æºï¼Œè¯·æ˜ç¡®è¯´æ˜æ ·å¼å¹¶è¦æ±‚ä½¿ç”¨é€æ˜èƒŒæ™¯ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"å›¾ç‰‡ä¸­çš„æ–‡å­—å‡†ç¡®æ— è¯¯"),t("div",null,"æ¸…æ¥šè¯´æ˜æ–‡å­—ã€å­—ä½“æ ·å¼ï¼ˆæè¿°æ€§ï¼‰å’Œæ•´ä½“è®¾è®¡ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"äº§å“æ¨¡å‹å’Œå•†ä¸šæ‘„å½±"),t("div",null,"éå¸¸é€‚åˆä¸ºç”µå­å•†åŠ¡ã€å¹¿å‘Šæˆ–å“ç‰Œå®£ä¼ åˆ¶ä½œæ¸…æ™°ä¸“ä¸šçš„å•†å“ç…§ç‰‡ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"æç®€é£æ ¼å’Œè´Ÿç©ºé—´è®¾è®¡"),t("div",null,"éå¸¸é€‚åˆç”¨äºåˆ›å»ºç½‘ç«™ã€æ¼”ç¤ºæˆ–è¥é”€ææ–™çš„èƒŒæ™¯ï¼Œä»¥ä¾¿åœ¨å…¶ä¸­å åŠ æ–‡å­—ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"è¿ç»­è‰ºæœ¯ï¼ˆæ¼«ç”»åˆ†æ ¼ / æ•…äº‹æ¿ï¼‰"),t("div",null,"ä»¥è§’è‰²ä¸€è‡´æ€§å’Œåœºæ™¯æè¿°ä¸ºåŸºç¡€ï¼Œä¸ºè§†è§‰æ•…äº‹è®²è¿°åˆ›å»ºåˆ†æ ¼ã€‚ä¸ºäº†ç¡®ä¿æ–‡æœ¬å‡†ç¡®æ€§å’Œæ•…äº‹è®²è¿°èƒ½åŠ›ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"ä½¿ç”¨æœç´¢å»ºç«‹ä¾æ®"),t("div",null,"ä½¿ç”¨æœç´¢æ ¹æ®æœ€æ–°ä¿¡æ¯æˆ–å®æ—¶ä¿¡æ¯ç”Ÿæˆå›¾ç‰‡ã€‚è¿™å¯¹äºæ–°é—»ã€å¤©æ°”å’Œå…¶ä»–æ—¶æ•ˆæ€§ä¸»é¢˜éå¸¸æœ‰ç”¨ã€‚")])]),t("div",{class:"text-lg font-semibold"},"ç”¨äºä¿®æ”¹å›¾ç‰‡çš„æç¤º"),t("ol",{class:"list-decimal list-inside space-y-2"},[t("li",null,[t("div",{class:"font-medium"},"æ·»åŠ å’Œç§»é™¤å…ƒç´ "),t("div",null,"æä¾›å›¾ç‰‡å¹¶æè¿°æ‚¨çš„æ›´æ”¹ã€‚æ¨¡å‹å°†ä¸åŸå§‹å›¾ç‰‡çš„é£æ ¼ã€å…‰ç…§å’Œé€è§†æ•ˆæœä¿æŒä¸€è‡´ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"å±€éƒ¨é‡ç»˜ï¼ˆè¯­ä¹‰é®ç›–ï¼‰"),t("div",null,"é€šè¿‡å¯¹è¯å®šä¹‰â€œè’™ç‰ˆâ€ï¼Œä»¥ä¿®æ”¹å›¾ç‰‡çš„ç‰¹å®šéƒ¨åˆ†ï¼ŒåŒæ—¶ä¿æŒå…¶ä½™éƒ¨åˆ†ä¸å˜ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"é£æ ¼è¿ç§»"),t("div",null,"æä¾›ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶è®©æ¨¡å‹ä»¥ä¸åŒçš„è‰ºæœ¯é£æ ¼é‡æ–°åˆ›ä½œå…¶å†…å®¹ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"é«˜çº§åˆæˆï¼šç»„åˆå¤šå¼ å›¾ç‰‡"),t("div",null,"æä¾›å¤šå¼ å›¾ç‰‡ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œä»¥åˆ›å»ºæ–°çš„åˆæˆåœºæ™¯ã€‚è¿™éå¸¸é€‚åˆåˆ¶ä½œäº§å“æ¨¡å‹æˆ–åˆ›æ„æ‹¼è´´ç”»ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"é«˜ä¿çœŸç»†èŠ‚ä¿ç•™"),t("div",null,"ä¸ºç¡®ä¿åœ¨ç¼–è¾‘è¿‡ç¨‹ä¸­ä¿ç•™å…³é”®ç»†èŠ‚ï¼ˆä¾‹å¦‚é¢éƒ¨æˆ–å¾½æ ‡ï¼‰ï¼Œè¯·åœ¨ç¼–è¾‘è¯·æ±‚ä¸­è¯¦ç»†æè¿°è¿™äº›ç»†èŠ‚ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"è®©äº‹ç‰©ç„•å‘æ´»åŠ›"),t("div",null,"ä¸Šä¼ è‰å›¾æˆ–ç®€ç¬”ç”»ï¼Œç„¶åè®©æ¨¡å‹å°†å…¶ä¼˜åŒ–ä¸ºæˆå“å›¾ç‰‡ã€‚")]),t("li",null,[t("div",{class:"font-medium"},"å­—ç¬¦ä¸€è‡´æ€§ï¼š360 åº¦å…¨æ™¯"),t("div",null,"æ‚¨å¯ä»¥è¿­ä»£æç¤ºä¸åŒçš„è§’åº¦ï¼Œä»è€Œç”Ÿæˆè§’è‰²çš„ 360 åº¦è§†å›¾ã€‚ä¸ºè·å¾—æœ€ä½³æ•ˆæœï¼Œè¯·åœ¨åç»­æç¤ºä¸­æ·»åŠ ä¹‹å‰ç”Ÿæˆçš„å›¾ç‰‡ï¼Œä»¥ä¿æŒä¸€è‡´æ€§ã€‚å¯¹äºå¤æ‚çš„å§¿åŠ¿ï¼Œè¯·æ·»åŠ æ‰€éœ€å§¿åŠ¿çš„å‚è€ƒå›¾ç‰‡ã€‚ ")])]),t("div",{class:"text-lg font-semibold"},"æœ€ä½³åšæ³•"),t("ul",{class:"list-disc list-inside space-y-2"},[t("li",null,[t("span",{class:"font-medium"},"å…·ä½“åŒ–ï¼š"),t("span",null,"æ‚¨æä¾›çš„ä¿¡æ¯è¶Šè¯¦ç»†ï¼Œå¯¹è¾“å‡ºç»“æœçš„æŒæ§ç¨‹åº¦å°±è¶Šé«˜ã€‚ä¸å…¶ä½¿ç”¨â€œå¥‡å¹»ç›”ç”²â€ï¼Œä¸å¦‚å…·ä½“æè¿°ï¼šâ€œåä¸½çš„ç²¾çµæ¿ç”²ï¼Œèš€åˆ»ç€é“¶å¶å›¾æ¡ˆï¼Œå¸¦æœ‰é«˜é¢†å’ŒçŒé¹°ç¿…è†€å½¢çŠ¶çš„è‚©ç”²ã€‚â€")]),t("li",null,[t("span",{class:"font-medium"},"æä¾›ä¸Šä¸‹æ–‡å’Œæ„å›¾ï¼š"),t("span",null,"è¯´æ˜å›¾ç‰‡çš„ç”¨é€”ã€‚æ¨¡å‹å¯¹ä¸Šä¸‹æ–‡çš„ç†è§£ä¼šå½±å“æœ€ç»ˆè¾“å‡ºã€‚ä¾‹å¦‚ï¼Œâ€œä¸ºé«˜ç«¯æç®€æŠ¤è‚¤å“ç‰Œè®¾è®¡å¾½æ ‡â€çš„æ•ˆæœè¦å¥½äºâ€œè®¾è®¡å¾½æ ‡â€ã€‚")]),t("li",null,[t("span",{class:"font-medium"},"è¿­ä»£å’Œä¼˜åŒ–ï¼š"),t("span",null,"ä¸è¦æŒ‡æœ›ç¬¬ä¸€æ¬¡å°è¯•å°±èƒ½ç”Ÿæˆå®Œç¾çš„å›¾ç‰‡ã€‚åˆ©ç”¨æ¨¡å‹çš„å¯¹è¯ç‰¹æ€§è¿›è¡Œå°å¹…æ›´æ”¹ã€‚ä½¿ç”¨åç»­æç¤ºï¼Œä¾‹å¦‚â€œè¿™å¾ˆæ£’ï¼Œä½†ä½ èƒ½è®©å…‰çº¿æ›´æš–ä¸€äº›å—ï¼Ÿâ€æˆ–â€œä¿æŒæ‰€æœ‰å†…å®¹ä¸å˜ï¼Œä½†è®©è§’è‰²çš„è¡¨æƒ…æ›´ä¸¥è‚ƒä¸€äº›ã€‚â€")]),t("li",null,[t("span",{class:"font-medium"},"ä½¿ç”¨åˆ†æ­¥æŒ‡ä»¤ï¼š"),t("span",null,"å¯¹äºåŒ…å«è®¸å¤šå…ƒç´ çš„å¤æ‚åœºæ™¯ï¼Œè¯·å°†æç¤ºæ‹†åˆ†ä¸ºå¤šä¸ªæ­¥éª¤ã€‚â€œé¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªå®é™ã€è–„é›¾å¼¥æ¼«çš„é»æ˜æ£®æ—çš„èƒŒæ™¯ã€‚ç„¶åï¼Œåœ¨å‰æ™¯ä¸­æ·»åŠ ä¸€ä¸ªé•¿æ»¡è‹”è—“çš„å¤è€çŸ³åˆ¶ç¥­å›ã€‚æœ€åï¼Œå°†ä¸€æŠŠå‘å…‰çš„å‰‘æ”¾åœ¨ç¥­å›é¡¶éƒ¨ã€‚â€")]),t("li",null,[t("span",{class:"font-medium"},"ä½¿ç”¨â€œè¯­ä¹‰è´Ÿé¢æç¤ºâ€ï¼š"),t("span",null,"ä¸è¦è¯´â€œæ²¡æœ‰æ±½è½¦â€ï¼Œè€Œæ˜¯é€šè¿‡è¯´â€œä¸€æ¡æ²¡æœ‰äº¤é€šè¿¹è±¡çš„ç©ºæ—·ã€è’å‡‰çš„è¡—é“â€æ¥æ­£é¢æè¿°æ‰€éœ€çš„åœºæ™¯ã€‚")]),t("li",null,[t("span",{class:"font-medium"},"æ§åˆ¶é•œå¤´ï¼š"),t("span",null,"ä½¿ç”¨æ‘„å½±å’Œç”µå½±è¯­è¨€æ¥æ§åˆ¶æ„å›¾ã€‚ä¾‹å¦‚ wide-angle shotã€macro shotã€low-angle perspective ç­‰å­—è¯ã€‚")])])],-1)])]),_:1},8,["show"]),a(Ie,{modelValue:X.value,"onUpdate:modelValue":e[19]||(e[19]=n=>X.value=n),src:ae.value},null,8,["modelValue","src"])]))}}),It=fe(Pt,[["__scopeId","data-v-6ff0c616"]]),Mt={class:"p-4 space-y-4"},Ut={key:0,class:"flex flex-wrap items-center gap-1 sm:gap-1.5 text-[10px] sm:text-[11px]"},St={class:"flex items-center gap-0.5 px-1 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800"},Lt={class:"font-semibold tabular-nums"},zt={class:"flex items-center gap-0.5 px-1 py-0.5 rounded-full bg-fuchsia-50 dark:bg-fuchsia-900/30 text-fuchsia-700 dark:text-fuchsia-300 border border-fuchsia-200 dark:border-fuchsia-800"},Gt={class:"font-semibold tabular-nums"},Nt={class:"flex items-center gap-0.5 px-1 py-0.5 rounded-md border border-dashed border-neutral-300 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300"},Tt={class:"font-semibold tabular-nums"},Et={key:1,class:"p-3 border border-dashed rounded border-neutral-300 dark:border-neutral-700 min-h-16"},_t={key:2,class:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 border border-amber-200 dark:border-amber-800 text-[11px]"},jt={class:"relative"},Bt={key:0,class:"flex flex-wrap justify-center gap-3"},At=["src","onClick","onError","onLoad"],Ft={class:"absolute inset-x-0 bottom-0 opacity-0 pointer-events-none transition-opacity duration-200 group-hover:opacity-100 group-hover:pointer-events-auto"},Ot={class:"h-12 bg-gradient-to-t from-black/65 to-transparent flex items-center justify-center"},Dt={key:1,class:"absolute inset-0 z-10 pointer-events-none"},Vt={class:"flex flex-wrap justify-center gap-3"},Ht={key:3,class:"flex flex-wrap justify-center gap-3"},Jt={key:4,class:"flex items-center justify-center min-h-[50vh] sm:min-h-[56vh] lg:min-h-[60vh] p-6 text-center"},qt={class:"typewriter"},Kt="ç”¨æ–‡å­—é©±åŠ¨å›¾åƒåˆ›ä½œä¸ç¼–è¾‘ï¼šç”Ÿå›¾ã€å±€éƒ¨é‡ç»˜ã€é£æ ¼è¿ç§»ä¸æ‰©å›¾ä¸€åº”ä¿±å…¨ã€‚Coralsum ä¿æŒè§’è‰²ä¸€è‡´ä¸åœºæ™¯è¿è´¯ï¼Œé€Ÿåº¦å¿«ã€ç»†èŠ‚ç¨³ã€‚",Qt=ge({__name:"RightResultPanel",props:{result:{},loading:{type:Boolean}},emits:["save-history"],setup(F,{emit:I}){const R=F,G=me(),m=J(()=>{var l;const i=(((l=R.result)==null?void 0:l.images)??[]).slice();for(let p=0;p<i.length;p++)i[p]||(i[p]=W(p));return i}),N=U(new Set),C=U([]),d=I,D=J(()=>!R.loading&&m.value.length>0&&N.value.size>=m.value.length);function Q(i,l,p){const r=document.documentElement.classList.contains("dark"),e=r?"#1f2937":"#f3f4f6",n=r?"#374151":"#d1d5db",v=r?"#9ca3af":"#6b7280",y=r?"#0ea5e9":"#93c5fd",w=r?"#8b5cf6":"#a5b4fc",E=Math.max(12,Math.floor(l*.08)),z=Math.max(10,Math.floor(l*.06)),u=`<svg xmlns='http://www.w3.org/2000/svg' width='${i}' height='${l}' viewBox='0 0 ${i} ${l}'>
<defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0' stop-color='${y}'/><stop offset='1' stop-color='${w}'/></linearGradient></defs>
<rect width='100%' height='100%' fill='${e}'/>
<rect x='0.5' y='0.5' width='${i-1}' height='${l-1}' fill='none' stroke='${n}' stroke-dasharray='6 6' rx='8'/>
<rect width='100%' height='100%' fill='url(#g)' opacity='0.08'/>
<g fill='${v}' font-family='system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif' text-anchor='middle'>
<text x='${i/2}' y='${l/2-6}' font-size='${E}'>${p}</text>
<text x='${i/2}' y='${l/2+E/2+16}' font-size='${z}'>å›¾ç‰‡é¢„è§ˆå·²å¤±æ•ˆ</text>
</g>
</svg>`;return"data:image/svg+xml;utf8,"+encodeURIComponent(u)}function le(i=512){const l=G.aspectRatio,p={"1:1":[1,1],"2:3":[2,3],"3:2":[3,2],"3:4":[3,4],"4:3":[4,3],"9:16":[9,16],"16:9":[16,9],"21:9":[21,9]},[r,e]=p[l]??p["1:1"],n=i,v=Math.round(i*(e/r));return{w:n,h:v}}function W(i){const{w:l,h:p}=le(512);return Q(l,p,`IMG${i+1}`)}const _=U(!1),T=U(""),L=ve();function te(i){T.value=i,_.value=!0}function se(i,l){const p=i.target;p.src=W(l),N.value.add(l)}function X(i){N.value.add(i);const l=C.value[i];if(l)try{const p=document.createElement("canvas"),r=l.naturalWidth||l.width,e=l.naturalHeight||l.height;p.width=r,p.height=e;const n=p.getContext("2d");if(!n)return;n.drawImage(l,0,0);const v=p.toDataURL("image/png");v&&v.startsWith("data:")&&Ue(l.src,v)}catch{}}function ae(i,l){i&&(C.value[l]=i)}async function c(i){var r,e,n,v,y,w,E,z;const l=((e=(r=R.result)==null?void 0:r.linkImages)==null?void 0:e[i])||((v=(n=R.result)==null?void 0:n.images)==null?void 0:v[i]);if(!l){L==null||L.error("æ— å¯åˆ†äº«é“¾æ¥",{placement:"top"});return}(w=(y=R.result)==null?void 0:y.linkImages)==null||w[i];const p=(()=>{try{const u=new URL(l,window.location.origin),B=u.searchParams.get("ref");return B||u.pathname.split("/").pop()||""}catch{const u=l.indexOf("ref=");return u>=0?decodeURIComponent(l.slice(u+4)):l.split("?")[0].split("/").pop()||""}})();try{if(!p)throw new Error("æ— æ³•è§£æåˆ†äº«å¼•ç”¨");const u=document.documentElement.classList.contains("dark"),B=await Se(p,u),S=(()=>{try{return new URL(B,window.location.origin).toString()}catch{return B}})();if(!S)throw new Error("ç©ºé“¾æ¥");if((E=navigator==null?void 0:navigator.clipboard)!=null&&E.writeText)await navigator.clipboard.writeText(S);else{const q=document.createElement("textarea");q.value=S,q.style.position="fixed",q.style.opacity="0",document.body.appendChild(q),q.focus(),q.select(),document.execCommand("copy"),document.body.removeChild(q)}L==null||L.success("åˆ†äº«é“¾æ¥å·²å¤åˆ¶ï¼Œå¯ç›´æ¥å‘é€",{placement:"top"})}catch(u){const B=(()=>{try{return new URL(l,window.location.origin).toString()}catch{return l}})();try{if((z=navigator==null?void 0:navigator.clipboard)!=null&&z.writeText)await navigator.clipboard.writeText(B);else{const S=document.createElement("textarea");S.value=B,S.style.position="fixed",S.style.opacity="0",document.body.appendChild(S),S.focus(),S.select(),document.execCommand("copy"),document.body.removeChild(S)}L==null||L.success("å·²å¤åˆ¶åŸå§‹é“¾æ¥",{placement:"top"})}catch(S){const q=(S==null?void 0:S.message)||(u==null?void 0:u.message)||"å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥";L==null||L.error(q,{placement:"top"})}}}ie(m,()=>{N.value=new Set,C.value=[]});const f=J(()=>{var r;const i=m.value.length>0,l=!!((r=R.result)!=null&&r.text),p=!!R.loading;return!i&&!l&&!p}),g=J(()=>Array.from(Kt)),x=U(0),b=J(()=>g.value.slice(0,x.value));let h;function j(){h=setTimeout(()=>{x.value<g.value.length?(x.value++,j()):(clearTimeout(h),h=null)},115)}ie(f,i=>{h&&(clearTimeout(h),h=null),i&&(x.value=0,j())},{immediate:!0}),Me(()=>{h&&clearTimeout(h)});function H(i){const l=i/1e3,p=Math.floor(l/3600),r=Math.floor(l%3600/60),e=l%60,n=[];return p>0&&n.push(`${p}h`),(r>0||p>0)&&n.push(`${r}m`),n.push(`${e.toFixed(2)}s`),n.join("")}function Z(i){const l=Math.abs(i);if(l<1e3)return`${i} tokens`;let p=i,r="";l>=1e9?(p=i/1e9,r="B"):l>=1e6?(p=i/1e6,r="M"):(p=i/1e3,r="k");const e=p>=100?0:p>=10?1:2;return`${Number(p.toFixed(e)).toString()}${r} tokens`}const Y=J(()=>{const i=G.aspectRatio,l={"1:1":[1,1],"2:3":[2,3],"3:2":[3,2],"3:4":[3,4],"4:3":[4,3],"9:16":[9,16],"16:9":[16,9],"21:9":[21,9]},[p,r]=l[i]??l["1:1"];return{aspectRatio:`${p} / ${r}`}});return ie(D,async i=>{if(!i)return;const l=[];for(let p=0;p<C.value.length;p++){const r=C.value[p];if(r)try{const e=document.createElement("canvas"),n=r.naturalWidth||r.width,v=r.naturalHeight||r.height;e.width=n,e.height=v;const y=e.getContext("2d");if(!y)continue;y.drawImage(r,0,0);const w=e.toDataURL("image/png");l.push(w)}catch{l.push("")}}l.length>0&&d("save-history",l)}),(i,l)=>{var p,r,e,n;return $(),P(oe,null,[t("div",Mt,[f.value?K("",!0):($(),P("div",Ut,[t("div",St,[a(s(M),{class:"text-[0.75rem]",icon:"ph:code"}),l[1]||(l[1]=t("span",{class:"font-medium"},"è¾“å…¥",-1)),t("span",Lt,ee(Z(((p=F.result)==null?void 0:p.inputTokens)??0)),1)]),t("div",zt,[a(s(M),{class:"text-[0.75rem]",icon:"ph:sparkle"}),l[2]||(l[2]=t("span",{class:"font-medium"},"è¾“å‡º",-1)),t("span",Gt,ee(Z(((r=F.result)==null?void 0:r.outputTokens)??0)),1)]),t("div",Nt,[a(s(M),{class:"text-[0.75rem]",icon:"ph:timer"}),l[3]||(l[3]=t("span",{class:"font-medium"},"è€—æ—¶",-1)),t("span",Tt,ee(F.result?H(F.result.durationMs):"-"),1)])])),!F.loading&&((e=F.result)!=null&&e.text)?($(),P("div",Et,[t("div",null,ee((n=F.result)==null?void 0:n.text),1)])):K("",!0),D.value?($(),P("div",_t,[a(s(M),{class:"text-[0.85rem]",icon:"ph:warning"}),l[4]||(l[4]=t("span",null,"å›¾ç‰‡é¢„è§ˆé“¾æ¥æœ‰æ•ˆæ—¶é—´ä¸º 30 åˆ†é’Ÿï¼Œä¸”ä»…æœ‰ 5 æ¬¡æœ‰æ•ˆé¢„è§ˆæ¬¡æ•°ï¼Œè¯·æ³¨æ„ä¿å­˜å›¾ç‰‡ï¼",-1))])):K("",!0),t("div",jt,[m.value.length>0?($(),P("div",Bt,[($(!0),P(oe,null,ne(m.value,(v,y)=>($(),P("div",{key:y,class:"group rounded bg-neutral-100 dark:bg-neutral-800 w-full sm:w-[144px] md:w-[216px] lg:w-[288px] xl:w-[360px] relative"},[N.value.has(y)?K("",!0):($(),P("div",{key:0,style:ue(Y.value),class:"w-full"},[...l[5]||(l[5]=[t("div",{class:"h-full w-full bg-gradient-to-r from-neutral-200 via-neutral-100 to-neutral-200 dark:from-neutral-700 dark:via-neutral-800 dark:to-neutral-700 animate-pulse"},null,-1)])],4)),t("img",{ref_for:!0,ref:w=>ae(w,y),class:Ae([N.value.has(y)?"opacity-100":"opacity-0","w-full h-auto object-contain cursor-zoom-in transition-opacity duration-200"]),src:v,crossorigin:"anonymous",onClick:w=>te(v),onError:w=>se(w,y),onLoad:w=>X(y)},null,42,At),t("div",Ft,[t("div",Ot,[a(s(A),{placement:"top",trigger:"hover"},{trigger:o(()=>[a(s(V),{class:"control-btn",size:"small",strong:"",onClick:Ce(w=>c(y),["stop"])},{default:o(()=>[a(s(M),{class:"text-[1rem]",icon:"ph:share"})]),_:1},8,["onClick"])]),default:o(()=>[l[6]||(l[6]=k(" å¤åˆ¶åˆ†äº«é“¾æ¥ ",-1))]),_:2},1024)])])]))),128))])):K("",!0),F.loading&&m.value.length>0?($(),P("div",Dt,[t("div",Vt,[($(!0),P(oe,null,ne(s(G).candidateRadio,v=>($(),P("div",{key:v,class:"rounded overflow-hidden bg-neutral-100/80 dark:bg-neutral-800/80 border border-dashed border-neutral-300 dark:border-neutral-700 w-full sm:w-[144px] md:w-[216px] lg:w-[288px] xl:w-[360px]"},[t("div",{style:ue(Y.value),class:"w-full"},[...l[7]||(l[7]=[t("div",{class:"h-full w-full bg-gradient-to-r from-neutral-200 via-neutral-100 to-neutral-200 dark:from-neutral-700 dark:via-neutral-800 dark:to-neutral-700 animate-pulse"},null,-1)])],4)]))),128))])])):K("",!0)]),F.loading&&m.value.length===0?($(),P("div",Ht,[($(!0),P(oe,null,ne(s(G).candidateRadio,v=>($(),P("div",{key:v,class:"rounded overflow-hidden bg-neutral-100 dark:bg-neutral-800 border border-dashed border-neutral-300 dark:border-neutral-700 w-full sm:w-[144px] md:w-[216px] lg:w-[288px] xl:w-[360px]"},[t("div",{style:ue(Y.value),class:"w-full"},[...l[8]||(l[8]=[t("div",{class:"h-full w-full bg-gradient-to-r from-neutral-200 via-neutral-100 to-neutral-200 dark:from-neutral-700 dark:via-neutral-800 dark:to-neutral-700 animate-pulse"},null,-1)])],4)]))),128))])):f.value?($(),P("div",Jt,[t("div",qt,[($(!0),P(oe,null,ne(b.value,(v,y)=>($(),P("span",{key:y,class:"fade-char tw-text"},ee(v),1))),128))])])):K("",!0)]),a(Ie,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=v=>_.value=v),src:T.value},null,8,["modelValue","src"])],64)}}}),Wt=fe(Qt,[["__scopeId","data-v-0ec02279"]]),Xt={class:"flex flex-col md:flex-row md:h-[calc(100vh-56px)]"},Zt={class:"relative z-0 isolate flex-1 flex flex-col md:h-full glass bg-white/40 dark:bg-black/30"},Yt={class:"flex-1 overflow-y-auto"},es=ge({__name:"ImageGen",setup(F){const I=me(),R=Pe(),G=U(),m=U(!1),N=U(!1),C=ve(),d=U(!1),D=U([]);function Q(c=512){const f=I.aspectRatio,g={"1:1":[1,1],"2:3":[2,3],"3:2":[3,2],"3:4":[3,4],"4:3":[4,3],"9:16":[9,16],"16:9":[16,9],"21:9":[21,9]},[x,b]=g[f]??g["1:1"],h=c,j=Math.round(c*(b/x));return{w:h,h:j}}function le(c,f,g){const x=typeof document<"u"&&document.documentElement.classList.contains("dark"),b=x?"#1f2937":"#f3f4f6",h=x?"#374151":"#d1d5db",j=x?"#9ca3af":"#6b7280",H=x?"#0ea5e9":"#93c5fd",Z=x?"#8b5cf6":"#a5b4fc",Y=Math.max(12,Math.floor(f*.08)),i=Math.max(10,Math.floor(f*.06)),l=`<svg xmlns='http://www.w3.org/2000/svg' width='${c}' height='${f}' viewBox='0 0 ${c} ${f}'>
<defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0' stop-color='${H}'/><stop offset='1' stop-color='${Z}'/></linearGradient></defs>
<rect width='100%' height='100%' fill='${b}'/>
<rect x='0.5' y='0.5' width='${c-1}' height='${f-1}' fill='none' stroke='${h}' stroke-dasharray='6 6' rx='8'/>
<rect width='100%' height='100%' fill='url(#g)' opacity='0.08'/>
<g fill='${j}' font-family='system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif' text-anchor='middle'>
<text x='${c/2}' y='${f/2-6}' font-size='${Y}'>${g}</text>
<text x='${c/2}' y='${f/2+Y/2+16}' font-size='${i}'>å›¾ç‰‡é¢„è§ˆå·²å¤±æ•ˆ</text>
</g>
</svg>`;return"data:image/svg+xml;utf8,"+encodeURIComponent(l)}function W(c){const{w:f,h:g}=Q(512);return le(f,g,`IMG${c+1}`)}async function _(c){const f=[];for(const g of c)try{if(!g){f.push("");continue}const{refParam:x,ptParam:b}=(()=>{try{const h=new URL(g,window.location.origin),j=h.searchParams.get("ref"),H=h.searchParams.get("pt")||void 0;return j?{refParam:j,ptParam:H}:{refParam:h.pathname.split("/").pop()||"",ptParam:H}}catch{const h=g.indexOf("ref="),j=g.indexOf("&pt="),H=j>=0?decodeURIComponent(g.slice(j+4)):void 0;return h>=0?{refParam:decodeURIComponent(g.slice(h+4)),ptParam:H}:{refParam:g.split("?")[0].split("/").pop()||"",ptParam:H}}})();if(x){const h=`/api/generative-image?ref=${encodeURIComponent(x)}${b?`&pt=${encodeURIComponent(b)}`:""}`;f.push(h);continue}f.push(g)}catch{f.push(W(f.length))}return f}function T(){try{for(const c of D.value)c&&c.startsWith("blob:")&&URL.revokeObjectURL(c)}catch{}D.value=[]}const L=U(0);async function te(c){const f=Date.now();if(!N.value&&!(f-L.value<500)){L.value=f,G.value=void 0,N.value=!0;try{const g=await Le(c.prompt);if(!g.generateIntent){G.value={images:[],text:g.guideMessage,inputTokens:0,outputTokens:0,durationMs:0};return}if(!R.profileReady){C.error("è¯·å…ˆç™»å½•"),R.requireLogin();return}m.value=!0;const x=await ze({prompt:c.prompt,systemPrompt:c.systemPrompt,inputImages:c.files,config:{candidateRadio:I.candidateRadio,aspectRatio:I.aspectRatio,topP:I.topP,temperature:I.temperature,resolution:I.resolution,outputFormat:I.outputFormat,imageSize:I.imageSize,mediaResolution:I.mediaResolution}});try{T();const b=await _(x.images||[]);D.value=b,G.value={...x,images:b}}catch{G.value=x}if(R.email){const b=await be();R.setProfile({...b,token:R.token})}}catch(g){const x=(g==null?void 0:g.message)||"æœåŠ¡å¼‚å¸¸",b=g==null?void 0:g.status;b===401||b===403?(C.error("æœªç™»å½•æˆ–æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"),R.requireLogin()):b===500?C.error("æœåŠ¡å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•"):C.error(x)}finally{m.value=!1,N.value=!1}}}async function se(){try{if(!R.profileReady)return;const c=await xe();if(c.status==="PROCESSING"){d.value||(d.value=!0,await X(),d.value=!1);return}if(m.value=!1,c.status==="COMPLETED"&&c.result)try{T();const f=await _(c.result.images||[]);D.value=f,G.value={...c.result,images:f}}catch{G.value=c.result}(c.status==="FAILED"||c.status==="FAIL")&&C.error("ç”Ÿæˆä»»åŠ¡å¤±è´¥")}catch{}}async function X(){try{m.value=!0;const c=1500,f=Math.ceil(1e3*60*5/c);for(let g=0;g<f;g++){await new Promise(b=>setTimeout(b,c));const x=await xe();if(x.status==="COMPLETED"&&x.result){try{T();const b=await _(x.result.images||[]);D.value=b,G.value={...x.result,images:b}}catch{G.value=x.result}m.value=!1;try{const b=await be();R.setProfile({...b,token:R.token})}catch{}return}if(x.status==="FAILED"||x.status==="FAIL"){m.value=!1,C.error("ç”Ÿæˆä»»åŠ¡å¤±è´¥");return}if(x.status==="NONE"){m.value=!1;return}}m.value=!1,C.error("ç”Ÿæˆè¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•")}catch(c){m.value=!1;const f=c==null?void 0:c.status;f===401||f===403?(C.error("æœªç™»å½•æˆ–æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"),R.requireLogin()):f===500&&C.error("æœåŠ¡å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•")}}je(()=>{se()});function ae(c){if(!G.value)return;const f={candidateRadio:I.candidateRadio,aspectRatio:I.aspectRatio,topP:I.topP,temperature:I.temperature,resolution:I.resolution,outputFormat:I.outputFormat,imageSize:I.imageSize,mediaResolution:I.mediaResolution};Ge(R.email||"",{prompt:"",systemPrompt:void 0,config:f,result:{...G.value,images:c}})}return Me(()=>{T()}),ie(()=>R.profileReady,c=>{c&&se()}),(c,f)=>($(),P("div",Xt,[a(It,{generating:N.value,onGenerate:te},null,8,["generating"]),t("div",Zt,[t("div",Yt,[a(Wt,{loading:m.value,result:G.value,onSaveHistory:ae},null,8,["loading","result"])]),f[0]||(f[0]=Be('<div class="shrink-0 py-2 md:pb-0 pb-[env(safe-area-inset-bottom)]" data-v-259ad351><div class="flex flex-col items-center justify-center text-sm text-neutral-600 dark:text-neutral-300" data-v-259ad351><div class="flex items-center justify-center text-sm font-medium text-neutral-700 dark:text-neutral-200" data-v-259ad351><span class="mr-1" data-v-259ad351>Powered by</span><svg aria-hidden="true" class="mx-1 w-5 h-5 text-red-500 animate-heart-bounce" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-259ad351><path d="M12 21l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.74 0 3.41.81 4.5 2.09C12.09 4.81 13.76 4 15.5 4 18 4 20 6 20 8.5c0 3.78-3.4 6.86-8.55 11.18L12 21z" data-v-259ad351></path></svg><span class="ml-1" data-v-259ad351>Vue.js | Micronaut | Kotlin</span></div><div class="mt-1 text-xs text-neutral-500 dark:text-neutral-400" data-v-259ad351>Model Crafted by Nano Banana Pro ğŸŒ</div><div class="mt-2 w-full px-4 text-center break-words text-xs text-neutral-500 dark:text-neutral-400" data-v-259ad351> Copyright Â© 2025 Spcookie. é¡¹ç›®å¼€æºï¼Œé‡‡ç”¨ <a class="underline" href="https://opensource.org/licenses/MIT" rel="noopener noreferrer" target="_blank" data-v-259ad351>MIT è®¸å¯è¯</a>ã€‚ </div></div></div>',1))])]))}}),zs=fe(es,[["__scopeId","data-v-259ad351"]]);export{zs as default};
